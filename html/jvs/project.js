"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};sky.service("actions",function(_ref){var exceptions=_ref.exceptions,list={},actions=this.service={perform:function perform(element,event,action,options){var params=action.match(/(.+)\((.*)\)/);params&&(action=params[1],params=params[2].split(","),$.each(params,function(i,val){params[i]=eval(val.trim())})),options&&(params=$.extend(params||[],options));var self=!!element&&$(element),path=action.split("."),current=list,name=action;if(!(self&&self.isDisabled&&self.isDisabled())){if($.each(path,function(i,elem){if(i+1<path.length&&!current[elem])throw new exceptions.system.Error("No action - "+action+", because can't find '"+elem+"'");i+1<path.length&&(current=current[elem]),name=elem}),!current[name])throw new exceptions.system.Error("No action - "+action);current[name].apply(current,[self,event].concat(params||[]))}},add:function(name,events){if("function"==typeof events&&(events=events.safe(!0)()),!events||"object"!==(void 0===events?"undefined":_typeof(events)))throw new exceptions.system.Error("No event object for events '"+name+"' provided");list[name]=$.extend(list[name]||{},events)}};$.fn.action=function(name,selector,action){return void 0===action&&(action=selector,selector=null),this.on(name,selector,function(event,data){action.call(this,event,$(this),data)}.safe())},$(document).action("click submit keyup keydown dblclick mouseover mouseout mouseleave mouseenter change mousedown mouseup touchstart","[data-event]",function(event,self,data){var skyEvent=this.getAttribute("data-event");if(-1!==skyEvent.indexOf(event.type))if(self.isDisabled&&self.isDisabled())event.preventDefault();else{var list=skyEvent.split(";"),i=void 0;for(i=0;i<list.length;i++){var parts=list[i].match(/(\w+):(.*)/);if(3!==parts.length)throw new exceptions.system.Error("Wrong action format in data-event: "+list[i]);var name=parts[1].trim(),action=parts[2].trim();if(name===event.type){event.target===self.get(0)&&event.preventDefault(),data&&(event.data=data);var actionData=self.data("skyActionData");actionData&&(event.data=actionData),"false"!==action&&actions.perform(this,event,action)}}}})}),sky.exec(function(){sky.servicesDeferred.resolve()}),sky.exec(function(){$("body").removeClass("hidden"),sky.projectDeffered.resolve()});
//# sourceMappingURL=project.js.map
