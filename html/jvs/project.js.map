{"version":3,"sources":["actions.js","ajax.js","callback.js","callbacks.js","directives.js","stacklist.js","supported.js","utils.js","servicesInit.js","shared.js","projectInit.js"],"names":["sky","service","_ref","exceptions","list","actions","this","perform","element","event","action","options","params","match","split","$","each","i","val","eval","trim","extend","self","path","current","name","isDisabled","elem","length","system","Error","apply","concat","add","events","safe","_typeof","fn","selector","on","data","call","document","skyEvent","getAttribute","indexOf","type","preventDefault","parts","target","get","actionData","callbacks","url","_ref2","_ref2$object","object","undefined","_ref2$callbackData","callbackData","_ref2$ajaxExtend","ajaxExtend","filter","disable","ajaxCallbacks","stop","ajax","abort","dataType","timeout","success","response","textStatus","jqXHR","error","text","fire","errorThrown","errorText","responseText","status","codes","code","promise","always","enable","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","422","423","424","425","426","428","429","431","451","456","499","500","501","502","503","504","505","506","507","508","509","510","511","Callback","flags","functions","toRun","context","prototype","func","push","once","removeByContext","splice","bind","removeByCallback","args","_","fireNext","result","window","callback","Callbacks","advancedCallbacks","callbacksFlags","removeListener","listener","_this","Object","getEventsNames","slice","jQuery","possible","names","elements","replace","j","join","off","arguments","directives","directive","getAttributes","attributes","attr","nodeName","nodeValue","parseElement","jsonScript","children","json","JSON","parse","e","tag","is","parseDirectives","onReady","List","lastId","total","last","remove","index","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","single","value","err","return","fullScreen","formData","FormData","XHRIsSupported","XHRUpload","XMLHttpRequest","upload","localStorage","isObjectsEqual","first","second","Array","key","hasOwnProperty","addLeadingZero","parseInt","encode","rawStr","charCodeAt","jsonData","inputName","stringify","prepareSelectData","items","_ref$columnSplitOn","columnSplitOn","_ref$maxColumns","maxColumns","groupHolder","compiled","columns","columnsCount","perColumn","Math","ceil","item","column","groups","exec","servicesDeferred","resolve","closeWindow","closest","close","validForm","form","submit","clearForm","button","reset","find","trigger","changeOrder","orderField","order","hasClass","table","parent","trs","cell1","cell2","convert","removeClass","addClass","sort","firstTr","secondTr","val1","html","val2","parseFloat","isNaN","insertAfter","changeOrderReload","page","history","set","currentLoader","reload","input","selectionStart","body","classList","projectDeffered"],"mappings":"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","file":"project.js","sourcesContent":["sky.service(\"actions\", [\"exceptions\"], function ({exceptions}) {\n\n\tlet list = {},\n\t\tactions = this.service = {\n\n\t\t\t/**\n\t\t\t * Performs action\n\t\t\t * @param element\n\t\t\t * @param event\n\t\t\t * @param action\n\t\t\t * @param {Array} [options]\n\t\t\t */\n\t\t\tperform: function (element, event, action, options) {\n\n\t\t\t\t/* Get parameters */\n\t\t\t\tlet params = action.match(/(.+)\\((.*)\\)/);\n\n\t\t\t\t/* Parse */\n\t\t\t\tif (params) {\n\n\t\t\t\t\t/* Get function */\n\t\t\t\t\taction = params[1];\n\n\t\t\t\t\t/* Parse params */\n\t\t\t\t\tparams = params[2].split(\",\");\n\t\t\t\t\t$.each(params, function (i, val) {\n\t\t\t\t\t\tparams[i] = eval(val.trim());\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\t/* Options */\n\t\t\t\tif (options)\n\t\t\t\t\tparams = $.extend(params || [], options);\n\n\t\t\t\t/* Get */\n\t\t\t\tlet self = element ? $(element) : false,\n\t\t\t\t\tpath = action.split(\".\"),\n\t\t\t\t\tcurrent = list,\n\t\t\t\t\tname = action;\n\n\t\t\t\t/* If disabled */\n\t\t\t\tif (self && self.isDisabled && self.isDisabled())\n\t\t\t\t\treturn;\n\n\t\t\t\t$.each(path, function (i, elem) {\n\n\t\t\t\t\t/* Search */\n\t\t\t\t\tif (i + 1 < path.length && !current[elem])\n\t\t\t\t\t\tthrow new exceptions.system.Error(\"No action - \" + action + \", because can't find '\" + elem + \"'\");\n\n\t\t\t\t\t/* Get new elem */\n\t\t\t\t\tif (i + 1 < path.length)\n\t\t\t\t\t\tcurrent = current[elem];\n\n\t\t\t\t\t/* Save name */\n\t\t\t\t\tname = elem;\n\n\t\t\t\t});\n\n\t\t\t\t/* If no */\n\t\t\t\tif (!current[name])\n\t\t\t\t\tthrow new exceptions.system.Error(\"No action - \" + action);\n\n\t\t\t\t/* Call */\n\t\t\t\tcurrent[name].apply(current, [self, event].concat(params || []));\n\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Adds actions to list\n\t\t\t * @param name Group name\n\t\t\t * @param events List\n\t\t\t */\n\t\t\tadd: function (name, events) {\n\n\t\t\t\tif (typeof events === \"function\")\n\t\t\t\t\tevents = events.safe(true)();\n\n\t\t\t\t// Check\n\t\t\t\tif (!events || typeof events !== 'object')\n\t\t\t\t\tthrow new exceptions.system.Error(\"No event object for events '\" + name + \"' provided\");\n\n\t\t\t\t// Save\n\t\t\t\tlist[name] = $.extend(list[name] || {}, events);\n\n\t\t\t}\n\n\t\t};\n\n\n\t/**\n\t * Adds special bind function\n\t * @param {string} name Event name\n\t * @param {*} selector Selector string\n\t * @param {function} [action] Action function\n\t * @returns {jQuery}\n\t */\n\t$.fn.action = function(name, selector, action) {\n\n\t\t/* Parameters skip */\n\t\tif(typeof action === \"undefined\") { action = selector; selector = null; }\n\n\t\t/* Bind */\n\t\treturn this.on(name, selector, function(event, data) {\n\t\t\taction.call(this, event, $(this), data);\n\t\t}.safe());\n\t};\n\n\t/*\n\t * Bind declarative events\n\t */\n\t$(document).action(\"click submit keyup keydown dblclick mouseover mouseout mouseleave mouseenter change mousedown mouseup touchstart\", '[data-event]', function (event, self, data) {\n\n\t\t/* Get string */\n\t\tlet skyEvent = this.getAttribute(\"data-event\");\n\n\t\t/* If no such string */\n\t\tif (skyEvent.indexOf(event.type) === -1)\n\t\t\treturn;\n\n\t\t/* If disabled */\n\t\tif (self.isDisabled && self.isDisabled()) {\n\t\t\tevent.preventDefault();\n\t\t\treturn;\n\t\t}\n\n\t\t/* Split */\n\t\tlet list = skyEvent.split(\";\"), i;\n\n\t\t/* Go through */\n\t\tfor (i = 0; i < list.length; i++) {\n\n\t\t\t/* Get elements */\n\t\t\tlet parts = list[i].match(/(\\w+):(.*)/);\n\n\t\t\t/* Wrong */\n\t\t\tif (parts.length !== 3)\n\t\t\t\tthrow new exceptions.system.Error(\"Wrong action format in data-event: \" + list[i]);\n\n\t\t\t/* Get elements */\n\t\t\tlet name = parts[1].trim(),\n\t\t\t\taction = parts[2].trim();\n\n\t\t\t/* Another event */\n\t\t\tif (name !== event.type)\n\t\t\t\tcontinue;\n\n\t\t\t/* No default go */\n\t\t\tif (event.target === self.get(0))\n\t\t\t\tevent.preventDefault();\n\n\t\t\t/* Passed data */\n\t\t\tif (data)\n\t\t\t\tevent.data = data;\n\n\t\t\t/* Get action data */\n\t\t\tlet actionData = self.data(\"skyActionData\");\n\n\t\t\t/* Save */\n\t\t\tif (actionData)\n\t\t\t\tevent.data = actionData;\n\n\t\t\t/* Dump action */\n\t\t\tif (action === \"false\")\n\t\t\t\tcontinue;\n\n\t\t\t/* Perform action */\n\t\t\tactions.perform(this, event, action);\n\n\t\t}\n\n\t});\n\n});","sky.service(\"ajax\", [\"callbacks\"], function({ callbacks }) {\n\n\t/**\n\t * Advanced ajax execution\n\t * To abort call stop() method instead of abort() because it's used for abort callback set, or .ajax.abort()\n\t * You may skip type, don't skip it if lock is string set false in object and data\n\t * @param {string} url\t\t\t\tRequested url\n\t * @param {object} [data]\t\t\tHolds request parameters\n\t * @param {jQuery} [object]\t\t\tObject which performs request, to disable it during request\n\t * @param {object} [ajaxExtend]\t\tAdditional ajax options, see http://api.jquery.com/jQuery.ajaxSetup/\n\t * @param {object} [callbackData]\tAdditional params that passed to any callback\n\t */\n\tthis.service = function(url, data, { object = null, callbackData = {}, ajaxExtend = {} }) {\n\n\t\t/* Lock button */\n\t\tif(object)\n\t\t\tobject = $(object).filter(\":not(.disabled)\").disable();\n\n\t\t/* New object to store callbacks */\n\t\tlet ajaxCallbacks = new callbacks();\n\t\tajaxCallbacks.stop = function() { ajaxCallbacks.ajax.abort(); };\n\n\t\t/* Perform ajax request */\n\t\tajaxCallbacks.ajax = $.ajax($.extend(true, {\n\n\t\t\t/* Set base options */\n\t\t\turl     \t: url,\n\t\t\tdata    \t: data,\n\t\t\tdataType\t: \"json\",\n\t\t\ttype    \t: \"post\",\n\t\t\ttimeout\t\t: 480 * 1000,\n\t\t\tsuccess: function(response, textStatus, jqXHR) {\n\n\t\t\t\t/* Possible params list */\n\t\t\t\tlet params = $.extend({ jqXHR: jqXHR, textStatus: textStatus, object: object }, callbackData);\n\n\t\t\t\t/* If empty response */\n\t\t\t\tif(response === null) {\n\t\t\t\t\tparams.error = \"Данные небыли переданы\";\n\t\t\t\t\tparams.type = \"noData\";\n\t\t\t\t}\n\n\t\t\t\t/* If response returned with error */\n\t\t\t\tif(response.error) {\n\t\t\t\t\tparams.error = response.text;\n\t\t\t\t\tparams.type = \"php\";\n\t\t\t\t}\n\n\t\t\t\t/* If error type set */\n\t\t\t\tif(params.type)\n\t\t\t\t\treturn ajaxCallbacks.fire(\"notSuccess, error\", params); // No data\n\n\t\t\t\t/* Set response in possible params */\n\t\t\t\tparams.response = params.data = response;\n\n\t\t\t\t/* User success function */\n\t\t\t\treturn ajaxCallbacks.fire(\"preSuccess, success, notAbort\", params);\n\n\t\t\t}.safe(),\n\t\t\terror: function(jqXHR, textStatus, errorThrown) {\n\n\t\t\t\t/* Defaults */\n\t\t\t\tlet type        = \"Unknown\",\n\t\t\t\t\terrorText   = \"Во время выполнения запроса произошла ошибка, пожалуйста попробуйте позже\";\n\n\t\t\t\t/* Get error text according to response data */\n\t\t\t\tif(textStatus === \"abort\") {\n\t\t\t\t\ttype \t  = \"abort\";\n\t\t\t\t\terrorText = 'Выполнение запроса прервано';\n\t\t\t\t} else if(textStatus === 'parsererror') {\n\t\t\t\t\ttype \t  = \"parse\";\n\t\t\t\t\terrorText = \"Ответ пришел в неверном формате, пожалуйста попробуйте позже, текст:<br/>\" + jqXHR.responseText;\n\t\t\t\t} else if(textStatus === 'timeout') {\n\t\t\t\t\ttype \t  = \"timeout\";\n\t\t\t\t\terrorText = 'Время ожидания ответа истекло';\n\t\t\t\t} else if(jqXHR.status === 0) {\n\t\t\t\t\ttype \t  = \"stopped\";\n\t\t\t\t\terrorText = 'Загрузка остановлена, проверьте свои настройки сети';\n\t\t\t\t} else if(codes[jqXHR.status]) {\n\t\t\t\t\ttype = jqXHR.status;\n\t\t\t\t\terrorText = 'Ошибка во времы выполнения запроса <br/> ' + codes[jqXHR.status];\n\t\t\t\t}\n\n\t\t\t\t/* Possible params list */\n\t\t\t\tlet params = $.extend({\n\t\t\t\t\terror      : errorText,\n\t\t\t\t\ttype       : type,\n\t\t\t\t\tcode\t   : type,\n\t\t\t\t\tjqXHR      : jqXHR,\n\t\t\t\t\ttextStatus : textStatus,\n\t\t\t\t\tstatus     : textStatus,\n\t\t\t\t\terrorThrown: errorThrown,\n\t\t\t\t\tobject     : object\n\t\t\t\t}, callbackData);\n\n\t\t\t\t/* Execute callback */\n\t\t\t\tajaxCallbacks.fire(\"notSuccess\", params);\n\n\t\t\t\t/* Execute special ajaxCallbacks */\n\t\t\t\tajaxCallbacks.fire(textStatus === \"abort\" ? \"abort\" : \"error, notAbort\", params);\n\n\t\t\t}.safe()\n\n\t\t}, ajaxExtend));\n\n\t\t/* On always set */\n\t\tajaxCallbacks.ajax.promise().always(function(jqXHR, textStatus, errorThrown) {\n\n\t\t\t/* Unlock objects */\n\t\t\tif(object)\n\t\t\t\tobject.enable();\n\n\t\t\t/* Always callback */\n\t\t\tajaxCallbacks.fire(\"always\", { errorThrown: errorThrown, textStatus: textStatus, jqXHR: jqXHR, object: object});\n\n\t\t}.safe());\n\n\t\treturn ajaxCallbacks;\n\n\t};\n\n\t/**\n\t * Contains http codes\n\t */\n\tlet codes = {\n\n\t\t/* Request errors */\n\t\t400: \"Неверный запрос\",\n\t\t401: \"Для выполнеия запроса нужня авторизация\",\n\t\t402: \"Для доступа к ресурсу необходима оплата\",\n\t\t403: \"Доступ к ресурсу запрещен\",\n\t\t404: \"Сервер для выполнения запроса не найден или запрос выполнялся слишком долго\",\n\t\t405: \"Не поддерживаемый метод HTTP\",\n\t\t406: \"Не приемлемо\",\n\t\t407: \"Необходима аутентификация прокси\",\n\t\t408: \"Истекло время ожидания\",\n\t\t409: \"Конфликт\",\n\t\t410: \"Ресурс удален\",\n\t\t411: \"В запросе не указана длинна\",\n\t\t412: \"Условие ложно\",\n\t\t413: \"Размер запроса слишком велик\",\n\t\t414: \"Запрашиваемый URI слишком длинный\",\n\t\t415: \"Неподдерживаемый тип данных\",\n\t\t416: \"Запрашиваемый диапазон не достижим\",\n\t\t417: \"Ожидаемое неприемлемо\",\n\t\t422: \"Необрабатываемый экземпляр\",\n\t\t423: \"Ресурс заблокирован\",\n\t\t424: \"Невыполненная зависимость\",\n\t\t425: \"Неупорядоченный набор\",\n\t\t426: \"Необходимо обновление\",\n\t\t428: \"Необходимо предусловие\",\n\t\t429: \"Слишком много запросов\",\n\t\t431: \"Поля заголовка запроса слишком большие\",\n\t\t451: \"Недоступно по юридическим причинам\",\n\t\t456: \"Некорректируемая ошибка\",\n\t\t499: \"Используется Nginx, соединение закрыто до получения ответа\",\n\n\t\t/* Server error */\n\t\t500: \"Внутренняя ошибка сервера\",\n\t\t501: \"Не реализовано\",\n\t\t502: \"Плохой или ошибочный шлюз\",\n\t\t503: \"Сервис недоступен\",\n\t\t504: \"Шлюз не отвечает\",\n\t\t505: \"Версия HTTP не поддерживается\",\n\t\t506: \"Вариант тоже проводит согласование\",\n\t\t507: \"Переполнение хранилища\",\n\t\t508: \"Запрос зациклен\",\n\t\t509: \"Исчерпана пропускная ширина канала\",\n\t\t510: \"Не расширено\",\n\t\t511: \"Требуется сетевая аутентификация\"\n\n\t};\n\n});","sky.service(\"callback\", function() {\n\n\t/**\n\t * Creates callback object that holds functions list\n\t * @param {string} [flags]\n\t * @returns {*}\n\t * @constructor\n\t */\n\tlet Callback = function(flags) {\n\n\t\t/* Self construct */\n\t\tif(!(this instanceof Callback))\n\t\t\treturn new Callback(flags);\n\n\t\t/**\n\t\t * Functions list holder\n\t\t * @type {Array}\n\t\t */\n\t\tthis.functions = [];\n\t\tthis.toRun =  0;\n\t\tthis.context = this;\n\n\t\t/* Self return for next usage */\n\t\treturn this;\n\n\t};\n\n\t/**\n\t * Base\n\t * @type {{functions: Array, toRun: number, context: *, add: add, removeByContext: removeByContext, fire: fire, fireNext: fireNext}}\n\t */\n\tCallback.prototype = {\n\n\t\t/**\n\t\t * Adds new function to stack\n\t\t * @param {Function} func Function to add\n\t\t * @param {Object} context Function context\n\t\t * @param {Object} options Call options\n\t\t */\n\t\tadd: function(func, context, options) {\n\t\t\tthis.functions.push({\n\t\t\t\tfunc: func,\n\t\t\t\tcontext: context || false,\n\t\t\t\tonce: options && options.once\n\t\t\t});\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Removes function from list by context\n\t\t * @param context\n\t\t */\n\t\tremoveByContext: function(context) {\n\n\t\t\t/* Find listener */\n\t\t\t$.each(this.functions, function(i, current) {\n\t\t\t\tif(current.context === context)\n\t\t\t\t\tthis.functions.splice(i, 1);\n\t\t\t}.bind(this));\n\n\t\t\t/* Self return */\n\t\t\treturn this;\n\n\t\t},\n\n\t\t/**\n\t\t * Removes function from list by context\n\t\t * @param func\n\t\t */\n\t\tremoveByCallback: function(func) {\n\n\t\t\t/* Find listener */\n\t\t\t$.each(this.functions, function(i, current) {\n\t\t\t\tif(current.func === func)\n\t\t\t\t\tthis.functions.splice(i, 1);\n\t\t\t}.bind(this));\n\n\t\t\t/* Self return */\n\t\t\treturn this;\n\n\t\t},\n\n\t\t/**\n\t\t * Fires all functions\n\t\t * @param {Object} context Function context\n\t\t * @param {Array} args Arguments\n\t\t */\n\t\tfire: function(context, args) {\n\t\t\t$.each(this.functions, function(_, func) {\n\t\t\t\tfunc.func.apply(func.context || context, args);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Fires next function\n\t\t * @param {Array|Object} args Arguments\n\t\t * @param {Object} context Function context\n\t\t */\n\t\tfireNext: function(args, context) {\n\n\t\t\t/* If no more to run */\n\t\t\tif(this.functions.length <= this.toRun)\n\t\t\t\treturn false;\n\n\t\t\t/* Set next to run */\n\t\t\tthis.toRun++;\n\n\t\t\t/* Function to run */\n\t\t\tlet current = this.functions[this.toRun - 1],\n\t\t\t\tresult,\n\t\t\t\tfunc = current.func;\n\n\t\t\t/* Set context */\n\t\t\tcontext = current.context || context || window;\n\n\t\t\t/* Get function in string */\n\t\t\tif(typeof func === \"string\")\n\t\t\t\tfunc = context[func];\n\n\t\t\t/* If no function found */\n\t\t\tif(!func)\n\t\t\t\treturn true;\n\n\t\t\t/* Call function */\n\t\t\tresult =  func.apply(current.context || context, args) !== false;\n\n\t\t\t/* If call once */\n\t\t\tif(current.once) {\n\t\t\t\tthis.functions.splice(this.toRun - 2, 1);\n\t\t\t\tthis.toRun--;\n\t\t\t}\n\n\t\t\t/* Return function result */\n\t\t\treturn result;\n\t\t}\n\n\t};\n\n\tthis.service = Callback;\n\n});","sky.service(\"callbacks\", [\"callback\"], function({ callback }) {\n\n\t/**\n\t *\n\t * Callbacks prepared object\n\t * @param {*} [flags] Flags list for jQuery.Callbacks\n\t * @constructor\n\t */\n\tlet Callbacks = function(flags) {\n\n\t\t/* Self construction */\n\t\tif(!(this instanceof Callbacks))\n\t\t\treturn new Callbacks(flags);\n\n\t\t/* Add properties */\n\t\t$.extend(true, this, Callbacks.extend);\n\n\t\t/* Callbacks list */\n\t\tthis.advancedCallbacks = {};\n\n\t\t/* Set default flags and self context */\n\t\treturn this.flags(flags);\n\n\t};\n\n\t/**\n\t * Prototype\n\t * @type {{on: on, fire: fire, off: off, flags: flags, setContext: setContext}}\n\t */\n\tCallbacks.prototype = {\n\n\t\t\t/**\n\t\t\t * Flags for sky.Callback\n\t\t\t * @param {object} flags Flags list\n\t\t\t * @returns {*}\n\t\t\t */\n\t\t\tflags: function(flags) {\n\t\t\t\tthis.callbacksFlags = flags;\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Remove by listener\n\t\t\t * @param {string} name Event name\n\t\t\t * @param {string} listener Listener object\n\t\t\t */\n\t\t\tremoveListener: function(name, listener) {\n\t\t\t\tif(this.advancedCallbacks[name]) {\n\t\t\t\t\tthis.advancedCallbacks[name].removeByContext(listener);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Adds new event handler\n\t\t\t * @param {string} \t name \t\t\tName of event\n\t\t\t * @param {function|string} func \tFunction be called on event fires\n\t\t\t * @param {object}   [context]\t\tFunction options\n\t\t\t * @param {object}   [options]\t\tFunction options\n\t\t\t */\n\t\t\ton:  function(name, func, context, options) {\n\n\n\t\t\t\tif(name instanceof Object)\n\t\t\t\t\t$.each(name, (event, func) => { this.on(event, func) });\n\n\t\t\t\telse $.each(this.getEventsNames(name), (_, name) => {\n\n\t\t\t\t\t/* Create callbacks */\n\t\t\t\t\tif(!this.advancedCallbacks[name])\n\t\t\t\t\t\tthis.advancedCallbacks[name] = callback(this.callbacksFlags);\n\n\t\t\t\t\t/* Add function */\n\t\t\t\t\tthis.advancedCallbacks[name].add(func, context ? context : self.context, options || {});\n\n\t\t\t\t});\n\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Fires callbacks for specified event\n\t\t\t * @param {string} name Name of event\n\t\t\t * @param {object} args Arguments to be passed\n\t\t\t * @param {object} [options] Additional options\n\t\t\t */\n\t\t\tfire: function(name, args, options) {\n\n\t\t\t\t/* Success last */\n\t\t\t\tlet events = this.getEventsNames(name),\n\t\t\t\t\tself = this,\n\t\t\t\t\tnext = false;\n\t\t\t\t\toptions = options || {};\n\n\t\t\t\t/* Remove global if need */\n\t\t\t\tif(options[\"noGlobal\"])\n\t\t\t\t\tevents = events.slice(1);\n\n\t\t\t\t/* Fire events */\n\t\t\t\t$.each(events, function(_, event) {\n\n\t\t\t\t\t/* If no callback */\n\t\t\t\t\tif(!self.advancedCallbacks[event])\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t/* Run */\n\t\t\t\t\tdo {\n\t\t\t\t\t\tnext = self.advancedCallbacks[event].fireNext(jQuery.extend({ event: event }, args || []), self.context, options.possible);\n\t\t\t\t\t} while(next);\n\n\t\t\t\t\t/* Reset */\n\t\t\t\t\tif(!options.once)\n\t\t\t\t\t\tself.advancedCallbacks[event].toRun = 0;\n\n\t\t\t\t});\n\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Get all event names from global name\n\t\t\t * @param {String} name Global event name\n\t\t\t * @returns {Array}\n\t\t\t */\n\t\t\tgetEventsNames: function(name) {\n\n\t\t\t\t/* Get events names */\n\t\t\t\tlet names = name.split(\",\"), events = [];\n\n\t\t\t\t/* Go through */\n\t\t\t\t$.each(names, function(i, name) {\n\n\t\t\t\t\t/* Remove spaces */\n\t\t\t\t\tname = name.replace(\" \", \"\");\n\n\t\t\t\t\t/* Get elements */\n\t\t\t\t\tlet elements = name.split(\".\");\n\t\t\t\t\tevents.push(elements[0]);\n\n\t\t\t\t\t/* Go through */\n\t\t\t\t\tfor(let j = 1; j < elements.length; j++)\n\t\t\t\t\t\tevents.push(elements[0] + \".\" + elements[j]);\n\n\t\t\t\t\t/* Global event */\n\t\t\t\t\tif(elements.length > 2)\n\t\t\t\t\t\tevents.push(elements.join(\".\"));\n\n\t\t\t\t});\n\n\t\t\t\t/* Return */\n\t\t\t\treturn events;\n\n\t\t\t},\n\n\t\t/**\n\t\t * Removes event handlers and functions\n\t\t * @param {string} name Event name\n\t\t * @param func\n\t\t */\n\t\t\toff: function(name, func = null) {\n\t\t\t\tif(func && this.advancedCallbacks[name])\n\t\t\t\t\tthis.advancedCallbacks[name].removeByCallback(func);\n\t\t\t\telse\n\t\t\t\t\tdelete this.advancedCallbacks[name];\n\t\t\t}\n\n\t\t};\n\n\t\tthis.service = Callbacks;\n\n});","sky.service(\"directives\", [\"exceptions\"], function ({exceptions}) {\n\n\tlet list = {},\n\t\tdirectives = this.service = {\n\n\t\t\t/**\n\t\t\t * Adds new directive\n\t\t\t * @param {string} name Directive name\n\t\t\t * @param {*} options Directive options\n\t\t\t * @param {function} directive How to parse directive\n\t\t\t */\n\t\t\tadd: function (name, options, directive) {\n\n\t\t\t\t/* Reset */\n\t\t\t\tif (!directive && typeof options === \"function\") {\n\t\t\t\t\tdirective = options;\n\t\t\t\t\toptions = {};\n\t\t\t\t}\n\t\t\t\toptions.directive = directive;\n\t\t\t\toptions.selector = name;\n\n\t\t\t\t/* Save */\n\t\t\t\tlist[name] = options;\n\n\t\t\t\t/* Self return*/\n\t\t\t\treturn this;\n\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Get element attributes\n\t\t\t * @param element\n\t\t\t * @returns {{}}\n\t\t\t */\n\t\t\tgetAttributes: function (element) {\n\n\t\t\t\t/* Holds attributes */\n\t\t\t\tlet attributes = {};\n\n\t\t\t\t/* Copy them to list */\n\t\t\t\t$.each(element.get(0).attributes, function (_, attr) {\n\t\t\t\t\tattributes[attr.nodeName] = attr.nodeValue;\n\t\t\t\t});\n\n\t\t\t\t/* Return */\n\t\t\t\treturn attributes;\n\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Applies directive convert to element\n\t\t\t * @param element\n\t\t\t * @param options\n\t\t\t */\n\t\t\tparseElement: function (element, options) {\n\n\t\t\t\t/* Get element */\n\t\t\t\telement = $(element);\n\n\t\t\t\t/* Get element attributes */\n\t\t\t\tlet attributes = this.getAttributes(element);\n\n\t\t\t\t/* Parse body for jason data */\n\t\t\t\tif (options[\"json\"] || options[\"jsonToData\"]) {\n\n\t\t\t\t\t/* Get child */\n\t\t\t\t\tlet jsonScript = element.children('script[type=\"application/json\"]');\n\n\t\t\t\t\t/* If we have json encoded data */\n\t\t\t\t\tif (jsonScript.length) {\n\n\t\t\t\t\t\ttry {\n\n\t\t\t\t\t\t\t/* Parse json */\n\t\t\t\t\t\t\tlet json = JSON.parse(jsonScript.text());\n\n\t\t\t\t\t\t\t/* Extend */\n\t\t\t\t\t\t\t$.extend(attributes, json);\n\n\t\t\t\t\t\t\t/* Save to data */\n\t\t\t\t\t\t\tif (options[\"jsonToData\"])\n\t\t\t\t\t\t\t\telement.data(\"json\", json);\n\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tthrow new exceptions.system.Error(\"Element \" + options.selector + \" should have json stored content, but error on parse appears\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t/* Call parse function */\n\t\t\t\tif (typeof options.directive === \"function\")\n\t\t\t\t\toptions.directive(element, attributes);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Searches and replaces directives in element\n\t\t\t * @param element\n\t\t\t */\n\t\t\tparse: function (element) {\n\t\t\t\t$.each(list, function (tag, options) {\n\t\t\t\t\t$(tag, element).each(function () {\n\t\t\t\t\t\tdirectives.parseElement(this, options);\n\t\t\t\t\t});\n\t\t\t\t\tif (element.is(tag))\n\t\t\t\t\t\tdirectives.parseElement(element, options);\n\t\t\t\t});\n\t\t\t}\n\n\n\t\t};\n\n\t/* Add jQuery fn */\n\tjQuery.fn.parseDirectives = function () {\n\n\t\t/* Parse */\n\t\tdirectives.parse(this);\n\n\t\t/* Return */\n\t\treturn this;\n\n\t};\n\n\t/* Parse body for directives when all ready */\n\tsky.onReady(function () {\n\t\t$(\"body\").parseDirectives();\n\t});\n\n});","sky.service(\"stackList\", function() {\n\tlet List = this.service = function() {\n\n\t\tif(!(this instanceof List))\n\t\t\treturn new List();\n\n\t\tlet elements = {};\n\t\tlet lastId = 0;\n\t\tlet total = 0;\n\n\t\tthis.last = function() {\n\n\t\t\t/* Holder */\n\t\t\tlet last = false;\n\n\t\t\t/* Apply for windows */\n\t\t\t$.each(elements, function (_, element) { last = element });\n\n\t\t\t/* Return */\n\t\t\treturn last;\n\n\t\t};\n\n\t\tthis.add = function(element) {\n\t\t\tlastId++;\n\t\t\ttotal++;\n\t\t\telement[lastId] = element;\n\t\t};\n\n\t\tthis.remove = function(element) {\n\t\t\t/* Apply for windows */\n\t\t\t$.each(elements, function (index, current) {\n\t\t\t\tif(element === current) {\n\t\t\t\t\tdelete elements[index];\n\t\t\t\t\ttotal--;\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\tthis.total = function() {\n\t\t\treturn total;\n\t\t};\n\n\t\tthis.elements = function() {\n\t\t\treturn elements;\n\t\t};\n\n\t\tthis.each = function(callback) {\n\t\t\tfor(let single of elements)\n\t\t\t\tcallback.apply(single, single);\n\t\t};\n\n\t}\n});","/**\n * Module to work with user services\n */\nsky.service(\"supported\", function () {\n\ttry {\n\t\tthis.service.fullScreen = typeof document[\"webkitIsFullScreen\"] !== \"undefined\";\n\t\tthis.service.formData = window.FormData && true;\n\t\tthis.service.XHRIsSupported = XHRIsSupported;\n\t\tthis.service.XHRUpload = (typeof new XMLHttpRequest().upload !== \"undefined\");\n\t\tthis.service.localStorage = !!window.localStorage;\n\t} catch (e) {}\n});","sky.service(\"utils\", function() {\n\tthis.service = {\n\n\t\t/**\n\t\t * Checks if object has same data\n\t\t * @param first\n\t\t * @param second\n\t\t */\n\t\tisObjectsEqual: function(first, second) {\n\n\t\t\t/* Different types */\n\t\t\tif(typeof first !== typeof second)\n\t\t\t\treturn false;\n\n\t\t\t/* If object or array we will compare each element */\n\t\t\tif(first instanceof Array || first instanceof Object) {\n\t\t\t\tlet key;\n\t\t\t\t/* Check first */\n\t\t\t\tfor(key in first) {\n\t\t\t\t\tif(!first.hasOwnProperty(key)) continue;\n\t\t\t\t\tif(typeof second[key] === \"undefined\") return false;\n\t\t\t\t\telse if(!this.isObjectsEqual(first[key], second[key])) return false;\n\t\t\t\t}\n\n\t\t\t\t/* Check second */\n\t\t\t\tfor(key in second) {\n\t\t\t\t\tif(!second.hasOwnProperty(key)) continue;\n\t\t\t\t\tif(typeof first[key] === \"undefined\") return false;\n\t\t\t\t}\n\n\t\t\t} else if(first !== second) return false;    // For simple types\n\n\t\t\t/* All tests success */\n\t\t\treturn true;\n\n\t\t},\n\n\t\t/**\n\t\t * Adds zero\n\t\t * @param value\n\t\t * @returns {Number}\n\t\t */\n\t\taddLeadingZero: function(value) {\n\n\t\t\t/* Parse */\n\t\t\tvalue = parseInt(value);\n\n\t\t\t/* Ad zero */\n\t\t\tif(value < 10)\n\t\t\t\tvalue = \"0\" + value;\n\n\t\t\t/* Val */\n\t\t\treturn value;\n\n\t\t},\n\n\t\tencode: function(rawStr) {\n\t\t\treturn rawStr.replace(/[\\u00A0-\\u9999<>\\&]/gim, function(i) {\n\t\t\t\treturn '&#' + i.charCodeAt(0) + ';';\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Makes data to JSON past\n\t\t * @param data\n\t\t * @param [inputName]\n\t\t * @returns {string}\n\t\t */\n\t\tjsonData: function(data, inputName) {\n\t\t\treturn '<script type=\"application/json\"' + (inputName ? (' input-name=\"' + inputName + '\"') : \"\") + '>' + sky.encode(JSON.stringify(data)) + '</script>';\n\t\t},\n\n\t\tprepareSelectData: function(items, func, {columnSplitOn = 6, maxColumns = 4}) {\n\n\t\t\tlet index        = 0,\n\t\t\t\tgroupHolder,\n\t\t\t\tcompiled,\n\t\t\t\tcolumns      = [],\n\t\t\t\tcolumnsCount = items.length / columnSplitOn;\n\n\t\t\tif(columnsCount < 1)\n\t\t\t\tcolumnsCount = 1;\n\t\t\tif(columnsCount > maxColumns)\n\t\t\t\tcolumnsCount = maxColumns;\n\n\t\t\tlet perColumn = Math.ceil(items.length / columnsCount);\n\n\t\t\t$.each(items, function(_, item) {\n\t\t\t\tif(compiled = func({item, index, column: columns.length})) {\n\n\t\t\t\t\tif(index % perColumn === 0) {\n\t\t\t\t\t\tgroupHolder = [];\n\t\t\t\t\t\tcolumns.push(groupHolder);\n\t\t\t\t\t}\n\n\t\t\t\t\tgroupHolder.push(compiled);\n\t\t\t\t\tindex++;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn index === 0 ? [] : {groups: columns}\n\n\t\t}\n\t}\n});","/**\n * Fire services init done\n */\nsky.exec(function() {\n\tsky.servicesDeferred.resolve();\n});","sky.directive(\"input.autoHttp\", function(input) {\n\tinput.on(\"focus\", function() {\n\t\tif(input.val() === \"\") input.val(\"http://\").get(0).selectionStart = 7;\n\t});\n});","/**\n * Fire project init done\n */\nsky.exec(function() {\n    document.body.classList.remove(\"hidden\");\n    sky.projectDeffered.resolve();\n});"]}